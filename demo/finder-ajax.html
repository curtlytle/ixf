<?
sleep(1);
$path = "../";
include($path."ixf/includes/init.php");
$peopleKeys = array("personID","name","roleID","title","account");
$people = array();
$people[] = array("1","Fred Flintstone","","Lead Program Manager","flintstonefg");
$people[] = array("2","Barney Rubble","","Program Manager","rubblebb");
$people[] = array("3","Wilma Flintstone","","Product Manager","flintstoneww");
$people[] = array("4","Betty Rubble","","Data Steward","rubblebt");
$people[] = array("5","Mickey Mouse","","Data Coordinator","mousemm");
$people[] = array("6","Minnie Mouse","","Engineer, Sr","mousemin");
$people[] = array("7","Donald Duck","","Program Manager","duckdf");
$people[] = array("8","Walt Disney","","Data Coordinator","disneywe");
$people[] = array("9","Yogi Bear","","FRD Administration","bearyg");
$people[] = array("10","Michael Jordan","","Program Manager","jordanmj");
$people[] = array("11","Tom Hanks","","FRD MSR Administration","hankstk");
$people[] = array("12","John Stockton","","FRD MSR Administration","stocktonjj");
$people[] = array("13","James Cameron","","Data Coordinator","cameronja");
$people[] = array("14","Peter Jackson","","FRD MSR Administration","jacksonpj");
$people = mergeArrayKeys($peopleKeys, $people);


switch($_GET["grab"]){
	case "groups":
		$link = "../demo/finder-ajax.html?grab=names";
		$data = array("Ward Leaders","Members","Young Men","Member Photos");
		$extra = ' class="ajax"';
	break;
	case "names":
		$link = "../demo/finder-ajax.html?grab=family";
		$data = array(
			"Fred Flintstone",
			"Barney Rubble",
			"Wilma Flintstone",
			"Betty Rubble",
			"Mickey Mouse",
			"Minnie Mouse",
			"Donald Duck",
			"Walt Disney",
			"Yogi Bear",
			"Michael Jordan",
			"Tom Hanks",
			"John Stockton",
			"James Cameron",
			"Peter Jackson"
		);
		
	break;

}

if($_GET["grab"] != "family"){
?>
<ul>
<?
for($x=0; $x< count($data); $x++){
?>
	<li<?=$extra;?>><a href="<?=$link;?>&amp;name=<?=$data[$x]?>"><?=$data[$x]?></a></li>
<?
}
?>
</ul>
<?
} else {
?>
<div class="padding-md">
	<h1><?=$_GET["name"]?> Family Information</h1>
	<p>Pretend there is family information here. Here is a <a href="#test" class="ixf-popup" title="Testing 1, 2, 3">popup</a> to test it working on dynamically loaded content.</p>

	<p>Other functionality:</p>
	<ul>
		<li><a href="#d" onclick="$('#demo').masterDetail('clearCache'); return false;">Clear the whole cache</a> - <code>$('#demo').masterDetail('clearCache');</code></li>
		<li><a href="#d" onclick="$('#demo').masterDetail('clearCache','<?=$_GET["rowID"];?>'); return false;">Clear the cache for this result</a> - <code>$('#demo').masterDetail('clearCache','<?=$_GET["rowID"];?>');</code> where "<?=$_GET["rowID"];?>" is the unique ID for this row</li>
	</ul>
</div>

<div id="test">
	<p class="padding-xs">Howdy do ma'm?</p>
</div>
<script type="text/javascript">
	ixf.setup();
</script>
<?	
}
?>